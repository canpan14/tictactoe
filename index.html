<!DOCTYPE html>
<html>
  <head>
    <title>TicTacToe</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Do not add `link` tags-->
    <link rel="shortcut icon" type="image/x-icon" href="favicon.ico">

    <!-- Do not add `script` tags-->
    <script src="public/vendor.js" type="text/javascript" charset="utf-8" defer></script>
    <script src="public/application.js" type="text/javascript" charset="utf-8" defer></script>
  </head>
  <body>
    <header>
      <div id="signedIn" class="signedIn" style="display:none">
        <table>
          <tr>
            <td><h4>Currently Signed In</h4></td>
          </tr>
          <tr>
            <td><button class="btn btn-primary" type="button" data-toggle="modal" data-target="#changePasswordModal">Change Password</button></td>
            <td><button id="signOut" class="btn btn-primary" type="button">Sign Out</button></td>
          </tr>
        </table>
      </div>
      <div id="loginContainer" class='loginContainer'>
        <form id="login">
          <table>
            <tr class="loginLabels">
              <td><label>Username</label></td>
              <td><label>Password</label></td>
              <td></td>
            </tr>
            <tr>
              <td><input class="form-control" name="credentials[email]" type="text" placeholder="Email" required></td>
              <td><input class="form-control" name="credentials[password]" type="password" placeholder="Password" required></td>
              <td><input type="submit" class='btn btn-primary' value="Login"></td>
            </tr>
            <tr>
              <td><span class="badLoginAttempt" id="badLoginAttempt"></span></td>
              <td></td>
              <td><a href="#signUpModal" class="signup" data-toggle='modal'>Sign Up</a></td>
            </tr>
          </table>
        </form>
      </div>
    </header>
    <main>
      <h1 class="title">Tic-Tac-Toe</h1>
      <h3 id="currentGameId"></h3>
      <div class="game">
        <table class="gameBoard" id='gameBoard'>
          <tr>
            <td class='square' data-pos='0,0'></td>
            <td class='square' data-pos='0,1'></td>
            <td class='square' data-pos='0,2'></td>
          </tr>
          <tr>
            <td class='square' data-pos='1,0'></td>
            <td class='square' data-pos='1,1'></td>
            <td class='square' data-pos='1,2'></td>
          </tr>
          <tr >
            <td class='square' data-pos='2,0'></td>
            <td class='square' data-pos='2,1'></td>
            <td class='square' data-pos='2,2'></td>
          </tr>
        </table>
      </div>
      <div class="row">
        <button id="newGame" class="btn btn-primary col-xs-4 col-xs-offset-4" disabled>New Local Game</button>
      </div>
      <div class="row">
        <button id="newOnlineGame" class="btn btn-secondary col-xs-4 col-xs-offset-4" disabled>New Online Game</button>
      </div>
      <form class='form-inline' id="multiplayerJoin">
        <div class="form-group">
          <div class="row">
            <div class="col-xs-3 col-xs-offset-4">
              <input class="form-control" type="text" name="id" placeholder="Enter Game #" required>
            </div>
            <button class="col-xs-1 btn btn-primary" type="submit" id="joinGameButton" disabled>Join</button>
          </div>
        </div>
      </form>
      <form class='form-inline' id="viewPreviousGame">
        <div class="form-group">
          <div class="row">
            <div class="col-xs-3 col-xs-offset-4">
              <input class="form-control" type="text" name="id" placeholder="Enter Game #" required>
            </div>
            <button class="col-xs-1 btn btn-primary" type="submit" id="viewGameButton" disabled>View</button>
          </div>
        </div>
      </form>
      <div class="playerTurn"><h3 id="playerTurnText"></h3></div>
      <div><h3 id="viewGameMessage"></h3></div>
      <div class='successMessage'><h2 id='successMessage'></h2></div>
      <div><h4 id="gamesPlayed"></h4></div>
      <div><h4 id="gamesFinished"></h4></div>
      <div class="notification"><h4 id="notification"></h4></div>
    </main>
    <div id='signUpModal' class='modal fade' role='dialog' tabindex='-1' aria-hidden='true'>
      <div class='modal-dialog' role='document'>
        <div class='modal-content'>
          <div class ="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
            <h4 class="modal-title">Sign Up</h4>
          </div>
          <form class='form-horizontal' role="form" id='signUp'>
            <div class="modal-body">
                <div class="form-group">
                  <label class="control-label col-sm-2" for="email">Email:</label>
                  <div class="col-sm-10">
                    <input type="email" class="form-control" name="credentials[email]" data-error="Enter a valid email" placeholder="Enter email" required>
                  </div>
                </div>
                <div class="form-group">
                  <label class="control-label col-sm-2" for="pwd">Password:</label>
                  <div class="col-sm-10">
                    <input type="password" class="form-control" name="credentials[password]" id="password" placeholder="Enter password" required>
                  </div>
                </div>
                <div class="form-group">
                  <label class="control-label col-sm-2" for="pwd">Confirmation:</label>
                  <div class="col-sm-10">
                    <input type="password" class="form-control" name="credentials[password_confirmation]" id="passwordConfirmation" placeholder="Password Confirmation" required>
                  </div>
                </div>
            </div>
            <div class="modal-footer">
              <span id="signInError"></span>
              <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
              <button type="submit" class="btn btn-primary">Submit</button>
            </div>
          </form>
        </div>
      </div>
    </div>
    <div id='changePasswordModal' class='modal fade' role='dialog' tabindex='-1' aria-hidden='true'>
      <div class='modal-dialog' role='document'>
        <div class='modal-content'>
          <div class ="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
            <h4 class="modal-title">Change Password</h4>
          </div>
          <form class='form-horizontal' role="form" id='changePassword'>
            <div class="modal-body">
                <div class="form-group">
                  <label class="control-label col-sm-2" for="pwd">Old Password:</label>
                  <div class="col-sm-10">
                    <input type="password" class="form-control" name = "passwords[old]" placeholder="Enter old password" required>
                  </div>
                </div>
                <div class="form-group">
                  <label class="control-label col-sm-2" for="pwd">New Password:</label>
                  <div class="col-sm-10">
                    <input type="password" class="form-control" name="passwords[new]" placeholder="Enter new password" required>
                  </div>
                </div>
            </div>
            <div class="modal-footer">
              <span id="changePasswordError"></span>
              <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
              <button type="submit" class="btn btn-primary" >Submit</button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </body>
</html>
