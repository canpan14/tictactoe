<!DOCTYPE html>
<html>
  <head>
    <title>TicTacToe</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Do not add `link` tags-->
    <link rel="shortcut icon" type="image/x-icon" href="favicon.ico">

    <!-- Do not add `script` tags-->
    <script src="public/vendor.js" type="text/javascript" charset="utf-8" defer></script>
    <script src="public/application.js" type="text/javascript" charset="utf-8" defer></script>
  </head>
  <body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
      <a class="navbar-brand" href="#">TicTacToe</a>
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>

      <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="navbar-nav">
          <li id="signInNav" class="nav-item">
            <a class="nav-link" data-toggle="modal" href="#signInModal">Sign In</a>
          </li>
          <li id="signUpNav" class="nav-item">
            <a class="nav-link" data-toggle="modal" href="#signUpModal">Sign Up</a>
          </li>
          <li id="signedIn" style="display:none">
            <h4 id="signedInAs" style="color:white">Signed In</h4>
            <button class="btn btn-primary" type="button" data-toggle="modal" data-target="#changePasswordModal">Change Password</button>
            <button id="signOut" class="btn btn-primary" type="button">Sign Out</button>
          </li>
        </ul>
      </div>
    </nav>
    <main>
      <h3 id="currentGameId"></h3>
      <div class="game">
        <table class="gameBoard" id='gameBoard'>
          <tr>
            <td class='square' data-pos='0,0'></td>
            <td class='square' data-pos='0,1'></td>
            <td class='square' data-pos='0,2'></td>
          </tr>
          <tr>
            <td class='square' data-pos='1,0'></td>
            <td class='square' data-pos='1,1'></td>
            <td class='square' data-pos='1,2'></td>
          </tr>
          <tr >
            <td class='square' data-pos='2,0'></td>
            <td class='square' data-pos='2,1'></td>
            <td class='square' data-pos='2,2'></td>
          </tr>
        </table>
      </div>
      <div class="row justify-content-center">
        <button id="newGame" class="btn btn-primary col-8" disabled>New Local Game</button>
      </div>
      <div class="row justify-content-center">
        <button id="newOnlineGame" class="btn btn-secondary col-8" disabled>New Online Game</button>
      </div>
      <form class='form' id="multiplayerJoin">
        <div class="form-group">
          <div class="row justify-content-center">
            <div class="col-6">
              <input class="form-control" type="text" name="id" placeholder="Enter Game #" required>
            </div>
            <button class="col-2 btn btn-primary" type="submit" id="joinGameButton" disabled>Join</button>
          </div>
        </div>
      </form>
      <form class='form' id="viewPreviousGame">
        <div class="form-group">
          <div class="row justify-content-center">
            <div class="col-6">
              <input class="form-control" type="text" name="id" placeholder="Enter Game #" required>
            </div>
            <button class="col-2 btn btn-primary" type="submit" id="viewGameButton" disabled>View</button>
          </div>
        </div>
      </form>
      <div class="playerTurn"><h3 id="playerTurnText"></h3></div>
      <div><h3 id="viewGameMessage"></h3></div>
      <div class='successMessage'><h2 id='successMessage'></h2></div>
      <div><h4 id="gamesPlayed"></h4></div>
      <div><h4 id="gamesFinished"></h4></div>
      <div class="notification"><h4 id="notification"></h4></div>
    </main>

    <div class="modal fade" id="signInModal" tabindex="-1" role="dialog" aria-labelledby="signInModalLabel" aria-hidden="true">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="signInModalLabel">Sign In</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <form class='form-horizontal' role="form" id='signIn'>
            <div class="modal-body">
                <div class="form-group">
                  <label class="control-label col-2" for="email">Email:</label>
                  <div class="col-10">
                    <input type="text" class="form-control" name="credentials[email]" placeholder="Enter email" required>
                  </div>
                </div>
                <div class="form-group">
                  <label class="control-label col-2" for="pwd">Password:</label>
                  <div class="col-10">
                    <input type="password" class="form-control" name="credentials[password]" placeholder="Enter password" required>
                  </div>
                </div>
            </div>
            <div class="modal-footer">
              <span class="badLoginAttempt" id="badLoginAttempt"></span>
              <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
              <button type="submit" class="btn btn-primary">Sign In</button>
            </div>
          </form>
        </div>
      </div>
    </div>

    <div id='signUpModal' class='modal fade' role='dialog' tabindex='-1' aria-hidden='true' data-backdrop="false">
      <div class='modal-dialog' role='document'>
        <div class='modal-content'>
          <div class ="modal-header">
            <h4 class="modal-title">Sign Up</h4>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
          </div>
          <form class='form-horizontal' role="form" id='signUp'>
            <div class="modal-body">
                <div class="form-group">
                  <label class="control-label col-2" for="email">Email:</label>
                  <div class="col-10">
                    <input type="email" class="form-control" name="credentials[email]" data-error="Enter a valid email" placeholder="Enter email" required>
                  </div>
                </div>
                <div class="form-group">
                  <label class="control-label col-2" for="pwd">Password:</label>
                  <div class="col-10">
                    <input type="password" class="form-control" name="credentials[password]" id="password" placeholder="Enter password" required>
                  </div>
                </div>
                <div class="form-group">
                  <label class="control-label col-2" for="pwd">Confirmation:</label>
                  <div class="col-10">
                    <input type="password" class="form-control" name="credentials[password_confirmation]" id="passwordConfirmation" placeholder="Password Confirmation" required>
                  </div>
                </div>
            </div>
            <div class="modal-footer">
              <span id="signInError"></span>
              <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
              <button type="submit" class="btn btn-primary">Submit</button>
            </div>
          </form>
        </div>
      </div>
    </div>

    <div id='changePasswordModal' class='modal fade' role='dialog' tabindex='-1' aria-hidden='true' data-backdrop="false">
      <div class='modal-dialog' role='document'>
        <div class='modal-content'>
          <div class ="modal-header">
            <h4 class="modal-title">Change Password</h4>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
          </div>
          <form class='form-horizontal' role="form" id='changePassword'>
            <div class="modal-body">
                <div class="form-group">
                  <label class="control-label col-2" for="pwd">Old Password:</label>
                  <div class="col-10">
                    <input type="password" class="form-control" name = "passwords[old]" placeholder="Enter old password" required>
                  </div>
                </div>
                <div class="form-group">
                  <label class="control-label col-2" for="pwd">New Password:</label>
                  <div class="col-10">
                    <input type="password" class="form-control" name="passwords[new]" placeholder="Enter new password" required>
                  </div>
                </div>
            </div>
            <div class="modal-footer">
              <span id="changePasswordError"></span>
              <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
              <button type="submit" class="btn btn-primary" >Submit</button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </body>
</html>
